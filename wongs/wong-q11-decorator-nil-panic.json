{
  "id": "wong-q11-decorator-nil-panic",
  "title": "Decorator.Run() panics on nil db when jj command is a write operation",
  "status": "closed",
  "priority": 1,
  "close_reason": "Fixed: added nil guard `d.db != nil` before calling Sync in Run(). Tests: TestDecorator_NilDB_NoWriteCommand, TestDecorator_NilDB_RunDoesNotPanic.",
  "description": "NewDecorator() allows db to be nil but Run() calls d.db.Sync(ctx) unconditionally for write commands, causing nil pointer panic.\n\nFile: wong_impl/internal/wongdb/decorator.go lines 29-39, 56",
  "dependencies": []
}
